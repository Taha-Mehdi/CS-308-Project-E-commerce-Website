# Bug Report: Guest Cart Items Lost on Registration

**ID:** BUG-002
**Title:** Guest Cart data not merged upon new account creation
**Severity:** High (Data Loss / Negative User Experience)
**Status:** Resolved (Fix applied in `register/page.jsx`)
**Date Fixed:** December 12, 2025

## 1. Description
When an unauthenticated (guest) user adds items to their local cart and subsequently creates a new account via the Register page, the items in their guest cart are not transferred to their new account. The cart appears empty after the redirect, unlike the behavior on the Login page where items are correctly merged.

## 2. Steps to Reproduce
1. Open the website in an Incognito/Private window (to ensure no existing session).
2. Add a product to the cart (e.g., "Air Force 1", Qty: 1).
3. Navigate to `/register`.
4. Fill in valid details for a new user and click "Create Account".
5. **Observe:** User is redirected to the Home/Products page.
6. **Fail Condition:** The Cart icon shows (0) items. The database orders table for this new user is empty.

## 3. Root Cause Analysis
The Merge Logic (reading `localStorage.getItem("guestCart")` and sending it to the API) was implemented in the `LoginPage` component but was completely missing from the `RegisterPage` component.

* **Login Flow:** Authenticate -> Check Local Storage -> API Sync -> Redirect.
* **Register Flow (Before Fix):** Create User -> Authenticate -> (Skip Sync) -> Redirect.

## 4. Impact
* **User Frustration:** Users have to search for and add their items again.
* **Lost Sales:** High risk of cart abandonment immediately after signup.

## 5. Resolution
Code was added to `frontend/app/register/page.jsx` to duplicate the "Guest Merge" logic found in the Login page. It now iterates through the local cart and calls `addToCartApi` immediately after a successful registration response.